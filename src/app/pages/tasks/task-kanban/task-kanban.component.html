<p-dialog [(visible)]="visible" [style]="{ width: '800px' }" header="Task Kanban 📋" [modal]="true" (onHide)="onHide()">
    <div class="flex gap-4">
        <!-- To Do Column -->
        <div class="flex-1 kanban-column">
            <h3 class="text-xl font-bold mb-4">📝 To Do</h3>
            <div
                cdkDropList
                #todoList="cdkDropList"
                [cdkDropListData]="todoTasks()"
                [cdkDropListConnectedTo]="['done-list']"
                class="kanban-list"
                id="todo-list"
                (cdkDropListDropped)="drop($event)">
                <div class="kanban-item" 
                    *ngFor="let task of todoTasks()" 
                    cdkDrag
                    (dblclick)="onTaskDoubleClick(task)">
                    <div class="flex justify-content-between align-items-center">
                        <div class="font-bold">{{ task.name }}</div>
                        <div class="emoji">❌</div>
                    </div>
                    <div class="text-sm text-gray-600">{{ task.description }}</div>
                    <div class="text-xs text-blue-600">🏷️ {{ task.category }}</div>
                </div>
            </div>
        </div>

        <!-- Done Column -->
        <div class="flex-1 kanban-column">
            <h3 class="text-xl font-bold mb-4">✅ Done</h3>
            <div
                cdkDropList
                #doneList="cdkDropList"
                [cdkDropListData]="doneTasks()"
                [cdkDropListConnectedTo]="['todo-list']"
                class="kanban-list"
                id="done-list"
                (cdkDropListDropped)="drop($event)">
                <div class="kanban-item" 
                    *ngFor="let task of doneTasks()" 
                    cdkDrag
                    (dblclick)="onTaskDoubleClick(task)">
                    <div class="flex justify-content-between align-items-center">
                        <div class="font-bold">{{ task.name }}</div>
                        <div class="emoji">✅</div>
                    </div>
                    <div class="text-sm text-gray-600">{{ task.description }}</div>
                    <div class="text-xs text-blue-600">🏷️ {{ task.category }}</div>
                </div>
            </div>
        </div>
    </div>
</p-dialog>
